<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Details</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 900px;
        margin: 0 auto;
        background: white;
        border-radius: 10px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 40px 20px;
        text-align: center;
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
      }

      .header p {
        font-size: 1.1em;
        opacity: 0.9;
      }

      .content {
        padding: 40px;
      }

      .section {
        margin-bottom: 40px;
      }

      .section-title {
        font-size: 1.5em;
        color: #667eea;
        margin-bottom: 20px;
        border-bottom: 2px solid #667eea;
        padding-bottom: 10px;
      }

      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
      }

      .info-card {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        border-left: 4px solid #667eea;
      }

      .info-card label {
        display: block;
        font-weight: 600;
        color: #667eea;
        font-size: 0.9em;
        text-transform: uppercase;
        margin-bottom: 8px;
      }

      .info-card .value {
        font-size: 1.1em;
        color: #333;
        word-break: break-word;
      }

      .back-btn {
        display: inline-block;
        padding: 10px 20px;
        background: #667eea;
        color: white;
        text-decoration: none;
        border-radius: 5px;
        margin-bottom: 20px;
        border: none;
        cursor: pointer;
        font-size: 1em;
        transition: background 0.3s ease;
      }

      .back-btn:hover {
        background: #764ba2;
      }

      .loading {
        text-align: center;
        padding: 40px;
        font-size: 1.2em;
        color: #667eea;
      }

      .error {
        background: #f8d7da;
        color: #721c24;
        padding: 20px;
        border-radius: 5px;
        margin: 20px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div id="loading" class="loading">Loading user details...</div>
      <div id="error"></div>
      <div id="userContent" style="display: none">
        <div class="header">
          <h1 id="fullName"></h1>
          <p id="userEmail"></p>
        </div>

        <div class="content">
          <button class="back-btn" onclick="window.history.back()">
            ‚Üê Back
          </button>

          <!-- Personal Information -->
          <div class="section">
            <h2 class="section-title">üë§ Personal Information</h2>
            <div class="grid">
              <div class="info-card">
                <label>User ID</label>
                <div class="value" id="userId"></div>
              </div>
              <div class="info-card">
                <label>Username</label>
                <div class="value" id="username"></div>
              </div>
              <div class="info-card">
                <label>First Name</label>
                <div class="value" id="firstName"></div>
              </div>
              <div class="info-card">
                <label>Last Name</label>
                <div class="value" id="lastName"></div>
              </div>
              <div class="info-card">
                <label>Email</label>
                <div class="value" id="email"></div>
              </div>
              <div class="info-card">
                <label>Phone</label>
                <div class="value" id="phone"></div>
              </div>
            </div>
          </div>

          <!-- Address Information -->
          <div class="section">
            <h2 class="section-title">üìç Address Information</h2>
            <div class="grid">
              <div class="info-card">
                <label>Street</label>
                <div class="value" id="street"></div>
              </div>
              <div class="info-card">
                <label>City</label>
                <div class="value" id="city"></div>
              </div>
              <div class="info-card">
                <label>Zip Code</label>
                <div class="value" id="zipcode"></div>
              </div>
              <div class="info-card">
                <label>Street Number</label>
                <div class="value" id="streetNumber"></div>
              </div>
            </div>
          </div>

          <!-- Geolocation Information -->
          <div class="section">
            <h2 class="section-title">üó∫Ô∏è Geolocation</h2>
            <div class="grid">
              <div class="info-card">
                <label>Latitude</label>
                <div class="value" id="latitude"></div>
              </div>
              <div class="info-card">
                <label>Longitude</label>
                <div class="value" id="longitude"></div>
              </div>
            </div>
          </div>

          <!-- Security Information -->
          <div class="section">
            <h2 class="section-title">üîê Security</h2>
            <div class="grid">
              <div class="info-card">
                <label>Password</label>
                <div class="value" id="password"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      let userIdFromUrl = new URLSearchParams(window.location.search).get("id");
      console.log("User ID from URL:", userIdFromUrl);

      const getUsersData = () => {
        fetch(`https://fakestoreapi.com/users/${userIdFromUrl}`)
          .then((response) => response.json())
          .then((data) => {
            console.log(data);
            populateUserDetails(data);
          })
          .catch((error) => {
            console.error("Error fetching users:", error);
            document.getElementById("loading").style.display = "none";
            document.getElementById("error").innerHTML =
              `<div class="error">Error loading user details. Please try again later.</div>`;
          });
      };

      const populateUserDetails = (data) => {
        // Header information
        document.getElementById("fullName").innerText =
          data.name.firstname + " " + data.name.lastname;
        document.getElementById("userEmail").innerText = data.email;

        // Personal Information
        document.getElementById("userId").innerText = data.id;
        document.getElementById("username").innerText = data.username;
        document.getElementById("firstName").innerText = data.name.firstname;
        document.getElementById("lastName").innerText = data.name.lastname;
        document.getElementById("email").innerText = data.email;
        document.getElementById("phone").innerText = data.phone;

        // Address Information
        document.getElementById("street").innerText = data.address.street;
        document.getElementById("city").innerText = data.address.city;
        document.getElementById("zipcode").innerText = data.address.zipcode;
        document.getElementById("streetNumber").innerText = data.address.number;

        // Geolocation
        document.getElementById("latitude").innerText =
          data.address.geolocation.lat;
        document.getElementById("longitude").innerText =
          data.address.geolocation.long;

        // Security
        document.getElementById("password").innerText = data.password;

        // Hide loading and show content
        document.getElementById("loading").style.display = "none";
        document.getElementById("userContent").style.display = "block";
      };

      getUsersData();
    </script>
  </body>
</html>
