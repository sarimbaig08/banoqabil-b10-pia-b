<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Cards</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  </head>
  <body class="bg-gray-100 py-8 px-4">
    <h1 class="text-4xl font-bold text-gray-800 mb-8 text-center">Users</h1>
    <div
      class="usersWrapper flex-wrap flex gap-5 justify-center mx-auto"
      id="usersContainer"
    >
      <!-- User Card -->
    </div>

    <script>
      let usersContainer = document.getElementById("usersContainer");

      let usersCardHtml = "";

      const getUsersData = () => {
        fetch("https://fakestoreapi.com/users")
          .then((response) => response.json())
          .then((data) => {
            data.forEach((user, index) => {
              usersCardHtml += `
            <div
        class="bg-white rounded-lg w-92 shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300"
      >
        <!-- Card Header with Background -->
        <div class="h-24 bg-gradient-to-r from-blue-500 to-blue-600"></div>

        <!-- Card Content -->
        <div class="px-6 py-6">
          <!-- Profile Image -->
          <div class="flex justify-center -mt-16 mb-4">
            <img
              src="https://api.dicebear.com/7.x/avataaars/svg?seed=John"
              alt="User Profile"
              class="w-32 h-32 rounded-full border-4 border-white shadow-lg"
            />
          </div>

          <!-- User Info -->
          <div class="text-center mb-4">
            <h2 class="text-2xl font-bold text-gray-800 mb-1">${user.name.firstname + " " + user.name.lastname}</h2>
            <p class="text-sm text-blue-600 font-semibold">${user.address.zipcode}</p>
          </div>

          <!-- Contact Info -->
          <div class="space-y-2 mb-6 text-gray-600">
            <p class="text-sm">
              <span class="font-semibold">Email:</span> ${user.email}
            </p>
            <p class="text-sm">
              <span class="font-semibold">Phone:</span> ${user.phone}
            </p>
            <p class="text-sm">
              <span class="font-semibold">City:</span> ${user.address.city}
            </p>
          </div>

          <!-- Action Buttons -->
          <div class="flex gap-3">
            <button
              class="flex-1 bg-blue-600 text-white font-semibold py-2 rounded-lg hover:bg-blue-700 transition"
              onclick = "getUserDetails(${user.id})"
              >
              View Profile
            </button>
            <button
              class="flex-1 bg-gray-200 text-gray-800 font-semibold py-2 rounded-lg hover:bg-gray-300 transition"
            >
              Message
            </button>
          </div>
        </div>
      </div>`;
            });
            usersContainer.innerHTML = usersCardHtml;
          })
          .catch((error) => console.error("Error fetching users:", error));
      };

      getUsersData();

      const getUserDetails = (id) => {
        window.location.href = `userDetails.html?id=${id}`;
      };
    </script>
  </body>
</html>
